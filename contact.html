<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ì‹œëŠ”ê¸¸ - ì—˜ë¦¼êµíšŒ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
        }
        #map {
            width: 100%;
            height: 600px;
            margin: 30px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <header id="header" class="header">
        <nav class="nav container">
            <div class="nav-brand">
                <a href="index.html">
                    <img src="logo.png" alt="ì—˜ë¦¼êµíšŒ ë¡œê³ ">
                    <span>ì—˜ë¦¼êµíšŒ</span>
                </a>
            </div>
            <ul class="nav-menu" id="nav-menu">
                <li class="nav-item"><a href="index.html" class="nav-link">í™ˆ</a></li>
                <li class="nav-item"><a href="about.html" class="nav-link">êµíšŒì†Œê°œ</a></li>
                <li class="nav-item"><a href="news.html" class="nav-link">ê³µì§€ì‚¬í•­</a></li>
                <li class="nav-item"><a href="board.html" class="nav-link">ê²Œì‹œíŒ</a></li>
                <li class="nav-item"><a href="sermons.html" class="nav-link">ì„¤êµì˜ìƒ</a></li>
                <li class="nav-item"><a href="contact.html" class="nav-link">ì˜¤ì‹œëŠ”ê¸¸</a></li>
            </ul>
            <div class="nav-right">
                <a href="admin.html" class="login-btn">
                    <span class="login-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </span>
                    <span class="login-text">ë¡œê·¸ì¸</span>
                </a>
                <div class="nav-toggle" id="nav-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- ì˜¤ì‹œëŠ” ê¸¸ -->
    <section id="contact" class="section" style="margin-top: 70px;">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">ì˜¤ì‹œëŠ” ê¸¸</h2>
                <div class="section-line"></div>
                <p class="section-subtitle">ì—˜ë¦¼êµíšŒë¡œ ì˜¤ì‹œëŠ” ë°©ë²•ì„ ì•ˆë‚´í•´ë“œë¦½ë‹ˆë‹¤</p>
            </div>
            <div style="text-align: center; margin-bottom: 20px;">
                <p style="font-size: 1.1rem; color: #666; margin-bottom: 10px;">ğŸ“ ì„œìš¸íŠ¹ë³„ì‹œ ê´€ì•…êµ¬ ì‹ ë¦¼ë¡œ 122</p>
                <p style="font-size: 1rem; color: #888;">ğŸ“ 02-886-4623</p>
            </div>
            <div id="map"></div>
        </div>
    </section>


    <!-- í‘¸í„° -->
    <footer style="text-align: center; padding: 20px; background: #f8f9fa; border-top: 1px solid #e0e0e0;">
        <p style="margin: 5px 0; color: #666; font-size: 0.9rem;">ì˜ˆìˆ˜êµëŒ€í•œì„±ê²°êµíšŒ ì—˜ë¦¼êµíšŒ</p>
        <p style="margin: 5px 0; color: #666; font-size: 0.9rem;">T. 02-886-4623</p>
    </footer>

    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=08e9ca12057f851c0a0429be9ee5f415&libraries=services"></script>
    <script src="script.js"></script>
    <script>
        // ì¹´ì¹´ì˜¤ì§€ë„ APIê°€ ë¡œë“œë  ë•Œê¹Œì§€ ëŒ€ê¸°
        function initMap() {
            if (typeof kakao === 'undefined' || !kakao.maps) {
                console.log('ì¹´ì¹´ì˜¤ì§€ë„ API ë¡œë”© ì¤‘...');
                setTimeout(initMap, 100);
                return;
            }

            console.log('ì¹´ì¹´ì˜¤ì§€ë„ API ë¡œë“œ ì™„ë£Œ');

            var mapContainer = document.getElementById('map');
            if (!mapContainer) {
                console.error('ì§€ë„ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            // ì´ˆê¸° ì¤‘ì‹¬ ì¢Œí‘œ (ê´€ì•…êµ¬ ì‹ ë¦¼ë¡œ ê·¼ì²˜)
            var mapOption = {
                center: new kakao.maps.LatLng(37.4845, 126.9295),
                level: 3
            };

            var map = new kakao.maps.Map(mapContainer, mapOption);
            console.log('ì§€ë„ ìƒì„± ì™„ë£Œ');

            // ì£¼ì†Œë¡œ ì¢Œí‘œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤
            var geocoder = new kakao.maps.services.Geocoder();
            var address = 'ì„œìš¸íŠ¹ë³„ì‹œ ê´€ì•…êµ¬ ì‹ ë¦¼ë¡œ 122';

            geocoder.addressSearch(address, function(result, status) {
                if (status === kakao.maps.services.Status.OK) {
                    var coords = new kakao.maps.LatLng(result[0].y, result[0].x);
                    console.log('ì£¼ì†Œ ê²€ìƒ‰ ì„±ê³µ:', coords);

                    // ê²°ê³¼ê°’ìœ¼ë¡œ ë°›ì€ ìœ„ì¹˜ë¥¼ ë§ˆì»¤ë¡œ í‘œì‹œí•©ë‹ˆë‹¤
                    var marker = new kakao.maps.Marker({
                        map: map,
                        position: coords
                    });

                    // ì¸í¬ìœˆë„ìš°ë¡œ ì¥ì†Œì— ëŒ€í•œ ì„¤ëª…ì„ í‘œì‹œí•©ë‹ˆë‹¤
                    var infowindow = new kakao.maps.InfoWindow({
                        content: '<div style="width:150px;text-align:center;padding:6px 0;">ì—˜ë¦¼êµíšŒ<br>ì„œìš¸íŠ¹ë³„ì‹œ ê´€ì•…êµ¬ ì‹ ë¦¼ë¡œ 122</div>'
                    });
                    infowindow.open(map, marker);

                    // ì§€ë„ì˜ ì¤‘ì‹¬ì„ ê²°ê³¼ê°’ìœ¼ë¡œ ë°›ì€ ìœ„ì¹˜ë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤
                    map.setCenter(coords);
                } else {
                    console.error('ì£¼ì†Œ ê²€ìƒ‰ ì‹¤íŒ¨:', status);
                    // ì£¼ì†Œ ê²€ìƒ‰ ì‹¤íŒ¨ ì‹œì—ë„ ê¸°ë³¸ ìœ„ì¹˜ì— ë§ˆì»¤ í‘œì‹œ
                    var defaultCoords = new kakao.maps.LatLng(37.4845, 126.9295);
                    var marker = new kakao.maps.Marker({
                        map: map,
                        position: defaultCoords
                    });
                    map.setCenter(defaultCoords);
                }
            });
        }

        // DOMì´ ì™„ì „íˆ ë¡œë“œëœ í›„ ì§€ë„ ì´ˆê¸°í™”
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(initMap, 500);
            });
        } else {
            setTimeout(initMap, 500);
        }
    </script>
</body>
</html>

